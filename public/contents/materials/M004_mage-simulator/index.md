# 現在の形

今回は、**呪文を唱えて杖を振って、魔法を発動したい**というイメージを実現した。Wiiリモコンを杖に見立てて、特定のモーションをしながらマイクに向かって呪文を放つと、ゲーム内で魔法が発動する。

<iframe src="https://www.youtube.com/embed/gBHHT_64NUg" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen=""></iframe>



## 魔法の発動

画面内にある杖はWiiリモコンの向きと連動してる。まず、**杖を特定の向きに向けると赤・青・紫などの色に光って、この状態でAボタンを押す**と魔法陣が展開される。

* 杖を自分から見て左方向に向け、Aボタンのある面が手前に来るようにする（振り払うような動作）：**ファイアブラスト**
* 杖を自分から見て正面方向に向け、Aボタンのある面が上に来るようにする（溜めるような動作）：**レーザービーム**
* 杖を自分から見て上方向に向け、Aボタンのある面が後ろに来るようにする（高く掲げるような動作）：**メテオレイン**

![初期状態](neutral.jpg)

これが魔法陣が展開された状態。**表示された呪文をマイクに向かって話す**と、呪文の文字が点滅する。

![魔法陣が展開された状態](ready.webp)

呪文の詠唱に成功すると魔法陣が輝いて、魔法が発動可能な状態になる。この状態で**特定のモーションを行う**と、魔法が発動する。

* ファイアブラスト：杖を前方向に振る
* レーザービーム：杖を前方向に突き出す
* メテオレイン：杖を下方向に振り下ろす

![詠唱が成功した状態](passed.jpg)

魔法が発動すると、こんな感じ。

![魔法の発動](activate.webp)



## セットアップ

タイトル画面から進むと、まずは**マイクのセットアップ**。ここで、使用するマイクを選択し、音声の入力感度を調整する。

![マイクのセットアップ](setup1.webp)

次に、**Wiiリモコンをセットアップ**する。4回ほど指定の向きでWiiリモコンを静止させ、内部に搭載されているジャイロセンサを校正していく。

![Wiiリモコンのセットアップ](setup2.jpg)

次に、**音声認識が正常に行われるかどうかをテスト**する。WiiリモコンのAボタンを押しながら、画面に表示された文章を話すことで、正しく認識されることをチェックする。これが完了すると、実際に魔法を詠唱する画面に移行する。

![音声認識の確認](setup3.jpg)





# 思い出



## 魔法を唱えたい欲望から

*2019.07.xx*（2年前）、**ゲーム内でリアルに魔法を詠唱したいな**ってずっとぼんやり思っていたところから、メイジ・シミュレータのアイデアが浮かんできた。ちょうどその頃に、自由に研究ができる機会に巡り合ったから、**モーションとか唱え方によって魔法の強さが変わったりしたら面白いな**と思って、魔法詠唱のための音声解析を研究しようとした。

![原案2](idea2.jpg)

![原案1](idea1.jpg)

*2019.12.xx*、そうして自前データを収集したり、デモンストレーションをするためにから作られたのがメイジ・シミュレータの始まり。本来は、このアプリケーションを使って**みんなの「本気の詠唱」と「棒読み」の音声データを集めて、その違いを解析してゲームに組み込む**つもりだった。

![全体像](app.png)

作品を展示する機会もあるし、大きなスクリーンを使って、**杖を振って魔法を唱え、迫りくる敵を撃ち落とす3Dシューティングゲーム**を作りたかった。「唱えるのが恥ずかしい！」っていう問題も、窓が割れるくらい大音量のBGMと、一緒に呪文を唱えてくれるナビゲーション音声があれば大丈夫。



## 不都合に不都合が重なって

*2020.04.xx*（1年前）、そう思った矢先に様々な不運が重なって、**研究が出来なくなった**。そこでせめて、音声認識とモーション認識だけを残して、**せめてゲーム作品にしよう**と思った。だけど、技術的な壁と成果報告の義務があって、今の「魔法が唱えられるだけ」の形までしかたどり着けなかった。

![Wiiリモコンで唱えている様子](wiimote.jpg)

*2021.02.25*、成果を求められることに疲れてしまったのか、作るのをやめてしまった。**魔法使いにはなれなかった。**

![タイトル画面](title.webp)

というところで、**手元には「Wiiリモコンとマイクで魔法が唱えられるもの」だけが残ってる**。それでも、これが今後どう影響を与えて、何のきっかけになるかは分からない。魔法使いにはなれなかったけど、またいつか、今度はみんなを魔法使いにできたらいいな。

